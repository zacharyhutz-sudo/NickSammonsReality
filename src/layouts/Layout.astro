---
interface Props {
	title: string;
}

const { title } = Astro.props;
import '../styles/global.css';
---

<!doctype html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="description" content="Nick Sammons Realty - Professional Real Estate Services" />
		<meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
		<link rel="icon" type="image/svg+xml" href="/NickSammonsReality/favicon.svg" />
		<meta name="generator" content={Astro.generator} />
		<title>{title}</title>
		<link rel="preconnect" href="https://fonts.googleapis.com">
		<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
		<link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:ital,wght@0,400;0,600;1,400;1,600&family=Montserrat:wght@300;400;500;700&display=swap" rel="stylesheet">
	</head>
	<body class="bg-[#faf9f6] text-[#1a1a1a] font-sans overflow-x-hidden selection:bg-gold-400/30">

		<!-- Sticky Container for Nav Burger -->
		<div class="sticky top-0 z-[999] w-full h-0 overflow-visible pointer-events-none">
			<div class="flex justify-end px-6 lg:px-12 py-8">
				<button id="sticky-burger" class="nav-toggle pointer-events-auto group relative flex items-center justify-center w-14 h-14 bg-navy-900 text-white shadow-2xl border border-white/10 hover:border-gold-400/50 transition-opacity duration-300 opacity-0">
					<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6">
						<path stroke-linecap="round" stroke-linejoin="round" d="M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5" />
					</svg>
				</button>
			</div>
		</div>

		<!-- Main Header (Static) -->
		<header id="site-header" class="w-full bg-navy-900 relative z-[100]">
			<div class="w-full px-6 lg:px-12 py-8 flex justify-between items-center relative">
				<a href="/NickSammonsReality/" class="flex items-center gap-4 group">
					<img src="/NickSammonsReality/assets/mccall-logo-final.png" alt="Agency Logo" class="h-12 w-auto" />
					<div class="h-8 w-px bg-white/20"></div>
					<span class="text-xl font-serif font-semibold tracking-tight text-white group-hover:text-gold-400 transition-colors">
						NICK SAMMONS <span class="font-light text-white/40 text-sm uppercase tracking-widest ml-1 group-hover:text-gold-400">Realty</span>
					</span>
				</a>
				<div class="flex items-center gap-10">
					<div class="hidden md:flex space-x-8 text-[10px] font-bold uppercase tracking-[0.2em] text-white/70">
						<a href="/NickSammonsReality/" class="hover:text-gold-400 transition-colors">Home</a>
						<a href="/NickSammonsReality/listings" class="hover:text-gold-400 transition-colors">Listings</a>
						<a href="/NickSammonsReality/search" class="hover:text-gold-400 transition-colors">Search Homes</a>
						<a href="/NickSammonsReality/sell" class="hover:text-gold-400 transition-colors">Sell Your Home</a>
						<a href="/NickSammonsReality/testimonials" class="hover:text-gold-400 transition-colors">Testimonials</a>
						<a href="/NickSammonsReality/about" class="hover:text-gold-400 transition-colors">About Nick</a>
						<a href="/NickSammonsReality/calculator" class="hover:text-gold-400 transition-colors">Mortgage Calculator</a>
						<a href="/NickSammonsReality/contact" class="hover:text-gold-400 transition-colors">Contact</a>
					</div>
					
					<!-- Static Header Burger Placeholder -->
					<div class="relative w-14 h-14">
                        <button class="nav-toggle relative z-10 flex items-center justify-center w-full h-full bg-white/5 text-white shadow-sm hover:border-gold-400/50 transition-all duration-300">
                            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6">
                                <path stroke-linecap="round" stroke-linejoin="round" d="M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5" />
                            </svg>
                        </button>
					</div>
				</div>
			</div>
			<div class="absolute bottom-0 left-0 w-full h-px bg-white/5"></div>
		</header>

		<!-- Fullscreen Navigation Sidebar -->
		<div id="nav-sidebar" style="position: fixed !important; top: 0 !important; left: 0 !important; right: 0 !important; bottom: 0 !important; width: 100vw !important; height: 100vh !important; z-index: 99999 !important; pointer-events: none; opacity: 0; transition: opacity 0.7s ease-in-out;">
			<div id="nav-overlay" style="position: absolute; inset: 0; background: rgba(12, 12, 12, 0.6); transition: all 0.7s ease-in-out;"></div>
			<div id="nav-panel" style="position: absolute; top: 0; right: 0; width: 100%; max-width: 450px; height: 100vh; background: white; box-shadow: -10px 0 30px rgba(0,0,0,0.1); transform: translateX(100%); transition: transform 0.5s ease-out; display: flex; flex-direction: column; padding: 3rem; border-left: 1px solid rgba(177, 139, 83, 0.1); pointer-events: auto;">
				<div style="display: flex; justify-content: flex-end; margin-bottom: 2rem;">
					<button id="nav-close" style="color: #a8a29e; background: none; border: none; cursor: pointer; padding: 0.5rem;">
						<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" style="width: 2.5rem; height: 2.5rem;">
							<path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12" />
						</svg>
					</button>
				</div>
				
				<div style="flex: 1; display: grid; grid-template-columns: 1fr 1fr; gap: 1rem; align-content: start; overflow-y: auto;">
					<a href="/NickSammonsReality/" style="text-decoration: none; color: #1c1917; font-family: 'Cormorant Garamond', serif; font-size: 1.1rem; transition: all 0.3s; border-left: 2px solid rgba(177, 139, 83, 0.2); padding-left: 0.75rem;">Home</a>
					<a href="/NickSammonsReality/listings" style="text-decoration: none; color: #1c1917; font-family: 'Cormorant Garamond', serif; font-size: 1.1rem; transition: all 0.3s; border-left: 2px solid rgba(177, 139, 83, 0.2); padding-left: 0.75rem;">Listings</a>
					<a href="/NickSammonsReality/search" style="text-decoration: none; color: #1c1917; font-family: 'Cormorant Garamond', serif; font-size: 1.1rem; transition: all 0.3s; border-left: 2px solid rgba(177, 139, 83, 0.2); padding-left: 0.75rem;">Search Homes</a>
					<a href="/NickSammonsReality/sell" style="text-decoration: none; color: #1c1917; font-family: 'Cormorant Garamond', serif; font-size: 1.1rem; transition: all 0.3s; border-left: 2px solid rgba(177, 139, 83, 0.2); padding-left: 0.75rem;">Sell Your Home</a>
					<a href="/NickSammonsReality/testimonials" style="text-decoration: none; color: #1c1917; font-family: 'Cormorant Garamond', serif; font-size: 1.1rem; transition: all 0.3s; border-left: 2px solid rgba(177, 139, 83, 0.2); padding-left: 0.75rem;">Testimonials</a>
					<a href="/NickSammonsReality/about" style="text-decoration: none; color: #1c1917; font-family: 'Cormorant Garamond', serif; font-size: 1.1rem; transition: all 0.3s; border-left: 2px solid rgba(177, 139, 83, 0.2); padding-left: 0.75rem;">About Nick</a>
					<a href="/NickSammonsReality/calculator" style="text-decoration: none; color: #1c1917; font-family: 'Cormorant Garamond', serif; font-size: 1.1rem; transition: all 0.3s; border-left: 2px solid rgba(177, 139, 83, 0.2); padding-left: 0.75rem;">Mortgage Calculator</a>
					<a href="/NickSammonsReality/contact" style="text-decoration: none; color: #1c1917; font-family: 'Cormorant Garamond', serif; font-size: 1.1rem; transition: all 0.3s; border-left: 2px solid rgba(177, 139, 83, 0.2); padding-left: 0.75rem;">Contact Us</a>
				</div>

				<div style="padding-top: 2rem; border-top: 1px solid #f5f5f4; margin-top: auto;">
					<p style="font-size: 0.625rem; font-weight: 700; text-transform: uppercase; letter-spacing: 0.1em; color: #B18B53; margin-bottom: 1rem;">Get In Touch</p>
					<a href="mailto:nick@mccallproperties.com" style="text-decoration: none; color: #1c1917; font-size: 0.875rem;">nick@mccallproperties.com</a>
					<div style="display: flex; gap: 1.5rem; margin-top: 2rem; color: #1c1917;">
						<a href="#" style="text-decoration: none; font-size: 0.75rem; text-transform: uppercase; letter-spacing: 0.1em; color: inherit;">Instagram</a>
						<a href="#" style="text-decoration: none; font-size: 0.75rem; text-transform: uppercase; letter-spacing: 0.1em; color: inherit;">LinkedIn</a>
					</div>
				</div>
			</div>
		</div>

		<slot />

		<script>
			const stickyBurger = document.getElementById('sticky-burger');
			const siteHeader = document.getElementById('site-header');
			const navSidebar = document.getElementById('nav-sidebar');
			const navPanel = document.getElementById('nav-panel');
			const navOverlay = document.getElementById('nav-overlay');
			const navClose = document.getElementById('nav-close');
			const toggles = document.querySelectorAll('.nav-toggle');

			function handleScroll() {
				if (!stickyBurger || !siteHeader) return;
				
				const headerHeight = siteHeader.offsetHeight;
				const scrollY = window.pageYOffset || document.documentElement.scrollTop;

				if (scrollY > headerHeight) {
					stickyBurger.style.opacity = '1';
					stickyBurger.style.pointerEvents = 'auto';
				} else {
					stickyBurger.style.opacity = '0';
					stickyBurger.style.pointerEvents = 'none';
				}
			}

			window.addEventListener('scroll', handleScroll, { passive: true });
			window.addEventListener('load', handleScroll);

			const openNav = () => {
				const scrollY = window.scrollY || window.pageYOffset;
				if (navSidebar) {
					navSidebar.style.top = scrollY + 'px';
					navSidebar.style.opacity = '1';
					navSidebar.style.pointerEvents = 'auto';
				}
				if (navPanel) {
					navPanel.style.transform = 'translateX(0)';
				}
				document.body.style.overflow = 'hidden';
			};

			const closeNav = () => {
				document.body.style.overflow = '';
				if (navPanel) {
					navPanel.style.transform = 'translateX(100%)';
				}
				if (navSidebar) {
					navSidebar.style.opacity = '0';
					setTimeout(() => {
						navSidebar.style.pointerEvents = 'none';
					}, 700);
				}
			};

			toggles.forEach(btn => btn.addEventListener('click', openNav));
			navClose?.addEventListener('click', closeNav);
			navOverlay?.addEventListener('click', closeNav);
		</script>
		
		<footer class="bg-navy-950 text-stone-400 py-12 md:py-20 px-6 lg:px-12 border-t border-gold-400/20">
			<div class="max-w-7xl mx-auto grid grid-cols-1 md:grid-cols-3 gap-8 md:gap-12 border-b border-white/10 pb-12 md:pb-20">
				<div class="space-y-6">
					<img src="/NickSammonsReality/assets/mccall-logo-final.png" alt="McCall Realty" class="h-10 w-auto opacity-90" />
					<h3 class="text-xl font-serif text-white tracking-tight underline decoration-gold-400/30 underline-offset-8">NICK SAMMONS REALTY</h3>
					<p class="text-sm leading-relaxed max-w-xs text-stone-500 italic">Professional real estate services with a commitment to excellence and brand integrity.</p>
				</div>
				<div class="space-y-6">
					<h4 class="text-xs font-bold text-white uppercase tracking-widest">Connect</h4>
					<p class="text-sm">5258 Cleveland Hwy<br/>Clermont, GA 30527<br/>nick@mccallproperties.com<br/>(470) 309-3309</p>
				</div>
				<div class="space-y-6">
					<h4 class="text-xs font-bold text-white uppercase tracking-widest">Navigation</h4>
					<div class="flex flex-col space-y-3">
						<a href="/NickSammonsReality/search" class="hover:text-gold-400 transition-colors text-sm">Search Homes</a>
						<a href="/NickSammonsReality/sell" class="hover:text-gold-400 transition-colors text-sm">Sell Your Home</a>
						<a href="/NickSammonsReality/calculator" class="hover:text-gold-400 transition-colors text-sm">Mortgage Calculator</a>
						<a href="/NickSammonsReality/testimonials" class="hover:text-gold-400 transition-colors text-sm">Testimonials</a>
					</div>
				</div>
			</div>
			<div class="max-w-7xl mx-auto pt-10 flex flex-col md:flex-row justify-between items-center text-[10px] uppercase tracking-widest">
				<p>Â© 2026 Nick Sammons Realty. All Rights Reserved.</p>
				<p class="mt-4 md:mt-0 text-stone-700">Design by Sam</p>
			</div>
		</footer>
	</body>
</html>

<style is:global>
	:root {
		--font-serif: 'Cormorant Garamond', serif;
		--font-sans: 'Montserrat', sans-serif;
	}
	body {
		font-family: var(--font-sans);
        -webkit-text-size-adjust: 100%;
        text-rendering: optimizeLegibility;
        -webkit-font-smoothing: antialiased;
        transform: translateZ(0);
	}
	h1, h2, h3, .font-serif {
		font-family: var(--font-serif);
	}

	@keyframes teardrop {
		0% {
			transform: scale(1);
			opacity: 1;
			border-radius: 50%;
		}
		100% {
			transform: scale(1.8);
			opacity: 0;
			border-radius: 50% 50% 50% 0%;
		}
	}
	.group:hover .group-hover\:animate-teardrop {
		animation: teardrop 0.8s cubic-bezier(0.4, 0, 0.2, 1) infinite;
	}
</style>
